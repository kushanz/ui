
<!-- Workflow header -->
<div id="appheader">
    <!-- <div class="togglebtn" (click)="toggleSidebar()">
        <i class="fa fa-th-list" aria-hidden="true"></i>
    </div> -->
    <div class="headertitle" (click)="appmenu(true)">
        <span class="workflowicon"><img src="../../../../assets/workspace-small.png" alt=""></span>
        <span class="title">Workspace</span>
        <div class="workflow-dropdown" [class.expand]='isAppMenu' (clickOutside)="appmenu(false)" [exclude]="'.headertitle'">
            <ul class="workflow-dropdownlist">
                <li class="workflow-dropdown-item">
                    <span class="workflowicon"><img src="../../../../assets/workspace-small.png" alt=""></span>
                    <span>Workspace</span>
                </li>
                <li class="workflow-dropdown-item">
                    <span class="workflowicon"><img src="../../../../assets/forms-small.png" alt=""></span>
                    <span>Forms</span>
                </li>
                <li class="workflow-dropdown-item">
                    <span class="workflowicon"><img src="../../../../assets/workflows-small.png" alt=""></span>
                    <span>Workflow</span>
                </li>
                <li class="workflow-dropdown-item">
                    <span class="workflowicon"><img src="../../../../assets/table-small.png" alt=""></span>
                    <span>Tables</span>
                </li>
            </ul>
        </div>
    </div>
    <!-- seachbox  -->
    <div class="searchbox" [ngClass]="{'expand-search':isExpandSearch}" (clickOutside)="expandSeach(false)">
        <span class="searchicon">
            <svg xmlns="http://www.w3.org/2000/svg" width="14.45" height="14.967" viewBox="0 0 14.45 14.967">
                <defs><style>.a {fill: #4f7cff;}</style></defs>
                <path class="a" d="M15.214,13.632l-3.562-3.7a6.04,6.04,0,1,0-4.625,2.158,5.978,5.978,0,0,0,3.462-1.093l3.589,3.733a.788.788,0,1,0,1.136-1.093ZM7.027,1.576A4.466,4.466,0,1,1,2.56,6.043,4.471,4.471,0,0,1,7.027,1.576Z" transform="translate(-0.984 0)" />
            </svg>
        </span>
        <input type="text" id="mainsearchinput" placeholder="Search" [(ngModel)]="searchPhrase" (focus)="expandSeach(true)" (keyup.enter)="doSearch()" autocomplete="off">
        <span class="clearsearch" *ngIf="searchPhrase != ''" (click)="doClearSearchPhrase()">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" style="enable-background:new 0 0 10 10;" xml:space="preserve">
                <style type="text/css"> .st0{stroke:#4f7cff;stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;} </style>
                <path class="st0" d="M1.1,1.1l7.8,7.7 M8.9,1.1L1.1,8.9"/></svg>
            </span>
        <span class="dropdown" (click)="expandSearchToggle()">
            <!-- <svg xmlns="http://www.w3.org/2000/svg" width="11.125" height="6.342" viewBox="0 0 11.125 6.342">
                <defs>
                    <style>
                        .a {
                            fill: #4f7cff;
                        }
                    </style>
                </defs>
                <g transform="translate(-0.001 -97.141)">
                    <path class="a"
                        d="M5.563,103.482a.777.777,0,0,1-.551-.228L.229,98.47a.779.779,0,0,1,1.1-1.1L5.563,101.6,9.8,97.369a.779.779,0,0,1,1.1,1.1l-4.784,4.784A.777.777,0,0,1,5.563,103.482Z" />
                </g>
            </svg> -->
        </span>
        <span class="allbtn">All</span>
        <div class="search-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="searchbox-item searchbox-title">WorkFlows</div>
                </div>
                <div class="col-md-12">
                    <div class="searchbox-item">Leave
                        <span class="searchbox-item-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="19.443" height="22.284"
                                viewBox="0 0 19.443 22.284">
                                <defs>
                                    <style>
                                        .a-user {
                                            fill: #ffba00;
                                        }
                                    </style>
                                </defs>
                                <g transform="translate(0 0)">
                                    <ellipse class="a-user" cx="2.498" cy="2.498" rx="2.498" ry="2.498"
                                        transform="translate(9.837 0)" />
                                    <path class="a-user"
                                        d="M50.136,117.2c-2.233-.23-4.4-2.646-4.942-2.98a2.619,2.619,0,0,0-1.108-.458,1.981,1.981,0,0,0-.547-.025,2.191,2.191,0,0,0-1.262.484,4.008,4.008,0,0,0-.441.4,19.036,19.036,0,0,0-3.794,5.576.969.969,0,0,0,.2,1.023l-1.193,2.126-1.681-.944a.417.417,0,0,0-.568.159l-3.181,5.622a.417.417,0,0,0,.16.568l1.272.716a.955.955,0,1,0,1.585-.121l1.737-3.048,1.217-2.169,1.509-2.615a.97.97,0,0,0,.75-.6,13.621,13.621,0,0,1,1.739-2.99l.3,3.483a1.69,1.69,0,0,0,.458,1.023c-.781,1.417-2.884,5.291-3.643,6.608a1.234,1.234,0,1,0,2.138,1.233c.707-1.226,2.552-4.947,3.361-6.346a56.392,56.392,0,0,1,3.156,6.229,1.234,1.234,0,0,0,2.258-1,55.285,55.285,0,0,0-3.545-6.906,1.711,1.711,0,0,0,.385-1.239l-.287-3.3a6.75,6.75,0,0,0,3.766,1.414.946.946,0,0,0,.1.005.97.97,0,0,0,.1-1.934ZM33.864,130.314a.348.348,0,1,1,.348-.348A.348.348,0,0,1,33.864,130.314Z"
                                        transform="translate(-31.565 -108.606)" />
                                </g>
                            </svg></span>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="searchbox-item">Petty Cash
                        <span class="searchbox-item-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="11.482" height="22.159"
                                viewBox="0 0 11.482 22.159">
                                <defs>
                                    <style>
                                        .a-pettycash {
                                            fill: #ea5b5d;
                                        }
                                    </style>
                                </defs>
                                <g transform="translate(0 0)">
                                    <path class="a-pettycash"
                                        d="M125.475,10.066a26.679,26.679,0,0,0-2.709-1.227,6.083,6.083,0,0,1-1.487-.833,1.294,1.294,0,0,1,.32-2.3,2.611,2.611,0,0,1,.911-.188,6.913,6.913,0,0,1,3.423.677c.54.261.719.178.9-.384.192-.595.352-1.2.531-1.8a.628.628,0,0,0-.407-.838,8.7,8.7,0,0,0-2.16-.645c-.979-.151-.979-.156-.984-1.14,0-1.387,0-1.387-1.4-1.387-.2,0-.4,0-.6,0-.65.018-.76.133-.778.787-.009.293,0,.586,0,.883,0,.87-.009.856-.842,1.158a4.643,4.643,0,0,0-3.391,4.3,4.409,4.409,0,0,0,2.494,4.215,27.575,27.575,0,0,0,3.117,1.4,4.63,4.63,0,0,1,1.135.668,1.556,1.556,0,0,1-.371,2.728,3.733,3.733,0,0,1-2,.261,8.927,8.927,0,0,1-3.048-.911c-.563-.293-.728-.215-.92.394-.165.526-.311,1.057-.458,1.588-.2.714-.124.883.558,1.217a9.733,9.733,0,0,0,2.746.787c.741.119.764.151.773.92,0,.348,0,.7.009,1.048a.622.622,0,0,0,.668.7c.513.009,1.03.009,1.542,0a.587.587,0,0,0,.636-.664c0-.476.023-.957,0-1.433a.757.757,0,0,1,.654-.86,5.172,5.172,0,0,0,2.7-1.73A4.864,4.864,0,0,0,125.475,10.066Z"
                                        transform="translate(-116.652 0)" />
                                </g>
                            </svg></span>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="searchbox-item">Travel
                        <span class="searchbox-item-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="19.792" height="19.066"
                                viewBox="0 0 19.792 19.066">
                                <defs>
                                    <style>
                                        .a-travel {
                                            fill: #4f7cff;
                                        }
                                    </style>
                                </defs>
                                <path class="a-travel"
                                    d="M10.43,17.535l2.23-1.285,1.373-9.4,2.843-1.638c.533-.308,1.817-2.223,1.362-3.008s-2.759-.635-3.293-.327L12.1,3.513,3.259,0,1.029,1.285,8,5.879l-3.472,2L2.036,7.047,0,8.22l3.306,2.587L3.9,14.958l2.036-1.173.522-2.569,3.471-2Z"
                                    transform="translate(1.528) rotate(5)" />
                            </svg></span>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="searchbox-item">Warehouse Delivery
                        <span class="searchbox-item-icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22.563" height="21.973"
                                viewBox="0 0 22.563 21.973">
                                <defs>
                                    <style>
                                        .a-delivery {
                                            fill: #1cb75d;
                                        }
                                    </style>
                                </defs>
                                <path class="a-delivery"
                                    d="M19.283,16.389l-4.665,2.258-1.8-3.723,4.665-2.258ZM18.152,6.91l3.853,7.962L19.673,16,15.819,8.039ZM16.1,19.28l6.465-3.014-.151-.635L15.4,18.883a1.946,1.946,0,0,0-1.06-.044c-.063.015-.126.033-.187.054l-4.813-9.1A1.22,1.22,0,0,0,8.217,7.868c-.115.015-.157.027-.239.034a8.225,8.225,0,0,1-3.226-.975c-.006-.117-.011-.233-.018-.349A1.808,1.808,0,0,0,3.073,4.715,1.768,1.768,0,0,0,1.209,6.376c.139,2.271.137,2.827.13,5H1.316c.014.289.027.769.042,1.059a1.743,1.743,0,0,0,.417,1.084s0,.008.005.01a10.864,10.864,0,0,1,.482,1.349C1.849,16.845.546,18.807.041,20.752a1.143,1.143,0,0,0,2.2.607C2.753,19.4,4.31,17.42,4.728,15.44a1.278,1.278,0,0,0,.027-.289A9.967,9.967,0,0,1,7.22,20.883c.125,1.458,2.41,1.469,2.284,0a12.379,12.379,0,0,0-4.626-8.631c-.008-.169-.016-.338-.025-.507h.009c0-1.366.007-.907-.02-2.273a10.492,10.492,0,0,0,2.938.669l0,.028a6.962,6.962,0,0,0,.931-.073,1.181,1.181,0,0,0,.179-.041l4.661,9.175a1.969,1.969,0,1,0,2.546.048ZM14.95,21.4a.663.663,0,1,1,.491-.8A.665.665,0,0,1,14.95,21.4Zm.479-12.971,1.8,3.723-4.665,2.258-1.8-3.723ZM3.038.745A1.716,1.716,0,1,1,1.322,2.461,1.716,1.716,0,0,1,3.038.745Z"
                                    transform="translate(0 -0.745)" />
                            </svg>
                        </span>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="searchbox-item-sub-title">More
                    </div>
                </div>
            </div>

        </div>
        <div class="advanceSearchBox" [ngClass]="{'open':isOpenAdvanceSearch}">
            <div class="advanceSearchContent">
                <div class="searchbox-item-sub" (click)="openAdvanceSeach()">Advanced Search</div>
                <span id="advanceSearchClose" (click)="closeAdvaneSearch()"><svg xmlns="http://www.w3.org/2000/svg"
                        width="29.43" height="29.43" viewBox="0 0 29.43 29.43">
                        <defs>
                            <style>
                                .a-close {
                                    fill: #59626d;
                                }
                            </style>
                        </defs>
                        <g transform="translate(14.715) rotate(45)">
                            <path class="a-close"
                                d="M19.681,8.954H11.857V1.13A1.4,1.4,0,0,0,10.4,0,1.4,1.4,0,0,0,8.953,1.13V8.954H1.129A1.4,1.4,0,0,0,0,10.406a1.4,1.4,0,0,0,1.129,1.452H8.953v7.824A1.4,1.4,0,0,0,10.4,20.811a1.4,1.4,0,0,0,1.452-1.129V11.858h7.824a1.4,1.4,0,0,0,1.129-1.452A1.4,1.4,0,0,0,19.681,8.954Z"
                                transform="translate(0 -0.001)" />
                        </g>
                    </svg></span>
                <div class="advanceSearchForm">
                    <div class="row">
                        <div class="col-md-3"><span class="advanceSearchLabel">Requester</span></div>
                        <div class="col-md-4">
                            <div class="miniInputGroup">
                                <select name="" id="" class="miniFormControl">
                                    <option value="">Anyone</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3"><span class="advanceSearchLabel">Workflow</span></div>
                        <div class="col-md-4">
                            <div class="miniInputGroup">
                                <select name="" id="" class="miniFormControl">
                                    <option value="">Anything</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3"></div>
                        <div class="col-md-4">
                            <div class="formCheck">
                                <input class="formCheckInput" type="checkbox" value="" id="Check1">
                                <label class="formCheckLabel" for="Check1">Completed</label>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="formCheck">
                                <input class="formCheckInput" type="checkbox" value="" id="Check2">
                                <label class="formCheckLabel" for="Check2">Time Lapsed</label>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-3"><span class="advanceSearchLabel">Date</span></div>
                        <div class="col-md-4">
                            <div class="miniInputGroup">
                                <select name="" id="" class="miniFormControl">
                                    <option value="">Anytime</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3"><span class="advanceSearchLabel">Subject</span></div>
                        <div class="col-md-7">
                            <div class="miniInputGroup">
                                <input type="text" class="miniFormControl">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3"><span class="advanceSearchLabel">Referance</span></div>
                        <div class="col-md-7">
                            <div class="miniInputGroup">
                                <input type="text" class="miniFormControl" [(ngModel)]="referanceNo">
                            </div>
                        </div>
                    </div>
                    <div class="advanceSearchFooter">
                        <span class="advanceSearchReset" (click)="doClearSearch()">Reset</span>
                        <span class="advanceSearchSearch" (click)="doAdvanceSearch()">Search</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="newrequest">
        <button id="requestbtn" (click)="doNewReqModal(true)">
            <span class="newrequesticon">
                <svg xmlns="http://www.w3.org/2000/svg" width="21.637" height="21.637" viewBox="0 0 21.637 21.637">
                    <defs>
                        <style>
                            .a {
                                fill: #4f7cff;
                            }
                        </style>
                    </defs>
                    <g transform="translate(0 0)">
                        <path class="a"
                            d="M20.463,9.31H12.328V1.175A1.459,1.459,0,0,0,10.819,0a1.459,1.459,0,0,0-1.51,1.174V9.31H1.174A1.459,1.459,0,0,0,0,10.819a1.459,1.459,0,0,0,1.174,1.51H9.309v8.135a1.459,1.459,0,0,0,1.51,1.174,1.459,1.459,0,0,0,1.51-1.174V12.329h8.135a1.459,1.459,0,0,0,1.174-1.51A1.459,1.459,0,0,0,20.463,9.31Z"
                            transform="translate(0 -0.001)" />
                    </g>
                </svg>
            </span>
            <span class="newrequesttext">New Request</span>
        </button>
    </div>
    <div class="wf-user" (click)="usermenu(true)">
        <span class="user-image">
            <img src="https://randomuser.me/api/portraits/women/85.jpg" alt="">
        </span>
        <span class="username">User Name</span>
        <div class="user-dropdown" [class.show]="isUserMenu" (clickOutside)="usermenu(false)" [exclude]="'.wf-user'">
            <ul class="user-dropdown-list">
                <li class="user-dropdown-item">
                    <span>My Profile</span>
                </li>
                <li class="user-dropdown-item">
                    <span>Settings</span>
                </li>
                <li class="user-dropdown-item">
                    <span>Help</span>
                </li>
                <li class="user-dropdown-item">
                    <span>Logout</span>
                </li>
            </ul>
        </div>
    </div>
</div>

 <!-- content area -->
 
<div id="appcontent">
    <loader-svg [show]="isLoadingwf"></loader-svg>
    <loader-error [loaderror]="isErrorLoading"></loader-error>
        <ng-scrollbar appearance="standard" visibility="hover">
            <div class="container" style="max-width: 100%;">
                <div class="searchpanel" *ngIf="isOpenSearchPanel">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="row">
                                <div class="col-4">Requester</div>
                                <div class="col-8">
                                    <div class="miniInputGroup">
                                        <select name="" id="" class="miniFormControl">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">Workflow</div>
                                <div class="col-8">
                                    <div class="miniInputGroup">
                                        <select name="" id="" class="miniFormControl">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">Date</div>
                                <div class="col-8">
                                    <div class="miniInputGroup">
                                        <select name="" id="" class="miniFormControl">
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="row">
                                <div class="col-4">Date</div>
                                <div class="col-8">
                                    <div class="miniInputGroup">
                                        <input type="text" class="miniFormControl">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4">Referance#</div>
                                <div class="col-8">
                                    <div class="miniInputGroup">
                                        <input type="text" class="miniFormControl">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="formCheck">
                                        <input class="formCheckInput" type="checkbox" value="" id="subCheck1">
                                        <label class="formCheckLabel" for="subCheck1">Completed</label>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="formCheck">
                                        <input class="formCheckInput" type="checkbox" value="" id="subCheck2">
                                        <label class="formCheckLabel" for="subCheck2">Time Lapsed</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3"></div>
                    </div>
                </div>
                <div class="sortpanel">
                    <div class="row">
                        <div class="col-md-12">
                            <ul class="filters">
                                <li class="filteritem" [ngClass]="{'selected':selectedType=='All'}" (click)="tabitemClick('All')">All</li>
                                <li class="filteritem" [ngClass]="{'selected':selectedType=='Pending'}" (click)="tabitemClick('Pending')">Pending</li>
                                <li class="filteritem" [ngClass]="{'selected':selectedType=='Completed'}" (click)="tabitemClick('Completed')">Completed</li>
                                <li class="filteritem" [ngClass]="{'selected':selectedType=='TimeEscalated'}" (click)="tabitemClick('TimeEscalated')">Time Scalated</li>
                            </ul>
                            <div class="sortbutton pull-right">
                                <select name="" id="" class="miniFormControl">
                                    <option value="">Sort by</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="cardpanel">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="workspace-wrapper">
                                <div class="workspace-listheader" (click)="toggleWorkspaceList('travel')" [ngClass]="{'activecard':openWorkspaceList==='travel'}">
                                    <h4 class="workspace-listheader-title">Travel</h4>
                                    <span class="workspace-listheader-notify">4</span>
                                </div>
                                <div class="workspace-list" [ngClass]="{'expand':openWorkspaceList==='travel'}">
                                    <div class="workspace-item">
                                        <div class="workspace-item-content" (click)="doItemModal(true)">
                                            <div class="workspace-item-user">
                                                <img src="https://randomuser.me/api/portraits/men/46.jpg" alt="">
                                            </div>
                                            <div class="workspace-item-date">July 31, 2019</div>
                                            <h4>Randall Hurley</h4>
                                            <span class="workspace-sub-content">UXSEA Summit 2049</span>
                                            <span class="workspace-sub-content">Manila to Singapore</span>
                                        </div>
                                        <div class="workspace-item-footer">
                                            <span class="workspace-item-accept">Approve</span>
                                            <span class="workspace-item-decline">Decline</span>
                                        </div>
                                    </div>
                                    <div class="workspace-item">
                                        <div class="workspace-item-content">
                                            <div class="workspace-item-user">
                                                <img src="https://randomuser.me/api/portraits/men/71.jpg" alt="">
                                            </div>
                                            <div class="workspace-item-date">July 31, 2019</div>
                                            <h4>Randall Hurley</h4>
                                            <span class="workspace-sub-content">UXSEA Summit 2049</span>
                                            <span class="workspace-sub-content">Manila to Singapore</span>
                                        </div>
                                        <div class="workspace-item-footer">
                                            <span class="workspace-item-accept">Approve</span>
                                            <span class="workspace-item-decline">Decline</span>
                                        </div>
                                    </div>
                                    <div class="workspace-item">
                                        <div class="workspace-item-content">
                                            <div class="workspace-item-user">
                                                <img src="https://randomuser.me/api/portraits/men/51.jpg" alt="">
                                            </div>
                                            <div class="workspace-item-date">July 31, 2019</div>
                                            <h4>Randall Hurley</h4>
                                            <span class="workspace-sub-content">UXSEA Summit 2049</span>
                                            <span class="workspace-sub-content">Manila to Singapore</span>
                                        </div>
                                        <div class="workspace-item-footer">
                                            <span class="workspace-item-accept">Approve</span>
                                            <span class="workspace-item-decline">Decline</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-3" *ngFor="let wfcard of workflowCards" (click)="loadInboxItems(wfcard)">
                            <div class="workspace-wrapper">
                                <div class="workspace-listheader">
                                    <h4 class="workspace-listheader-title">{{wfcard.workflowName}}</h4>
                                    <h6 class="instance-id"></h6>
                                    <span class="workspace-listheader-notify">{{wfcard.itemCount}}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <loader-svg [show]="false"></loader-svg>
        </div>
    </ng-scrollbar>
</div>
<!-- inboc item load modal -->
<inbox-panel 
    [openPanel]="isOpenPanel"
    [inboxItems]="inboxItems"
    [loader] = "isInboxLoader"
    (closePanel)="closePanel()"></inbox-panel>
    <!-- new request modals -->
    <new-request-modal 
        [openModal]="openNewRequestModal" 
        [formPermission]="formPermission" 
        [formPermissionIsLoading]="formPermissionIsLoading" 
        (closeModal)="doNewReqModal($event)" >
    </new-request-modal>
    <workflow-item-modal [openModal]="openItemModal" (closeModal)="doItemModal($event)"></workflow-item-modal>